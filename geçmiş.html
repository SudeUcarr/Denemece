<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Hasta Geçmişi</title>
    <link rel="stylesheet" href="Denemece/geçmiş.css">
</head>
<body>
<div class="container">
    <h1>🐾 Hasta Geçmişi Paneli</h1>

    <div class="grid">
        <div class="card">
            <h2>💊 Medikal / Tedavi Geçmişi</h2>
            <ul id="tedaviListesi">Yükleniyor...</ul>
        </div>

        <div class="card">
            <h2>💉 Anestezi Geçmişi</h2>
            <ul id="anesteziListesi">Yükleniyor...</ul>
        </div>

        <div class="card">
            <h2>🔪 Operasyon Geçmişi</h2>
            <ul id="operasyonListesi">Yükleniyor...</ul>
        </div>

        <div class="card">
            <h2>🛌 Uyanma Şekilleri</h2>
            <ul id="uyanmaListesi">Yükleniyor...</ul>
        </div>
    </div>
</div>

<script>
    const hayvanId = 5; // Örnek hayvan ID

    async function veriYukle(endpoint, elementId) {
        try {
            const response = await fetch(`https://seninapi.com/api/hayvanlar/${hayvanId}/${endpoint}`);
            const data = await response.json();
            const list = document.getElementById(elementId);
            list.innerHTML = "";

            if (!data || data.length === 0) {
                list.innerHTML = "<li>Kayıt bulunamadı.</li>";
                return;
            }

            data.forEach(item => {
                const li = document.createElement("li");
                li.textContent = item.aciklama || item.detay || item.tanim || "Detay yok";
                list.appendChild(li);
            });
        } catch (error) {
            console.error("Veri çekme hatası:", error);
            document.getElementById(elementId).innerHTML = "<li>Veri alınamadı.</li>";
        }
    }

    window.onload = () => {
        veriYukle("tedavi-gecmisi", "tedaviListesi");
        veriYukle("anestezi-gecmisi", "anesteziListesi");
        veriYukle("operasyon-gecmisi", "operasyonListesi");
        veriYukle("uyanma-sekli", "uyanmaListesi");
    };
</script>
</body>
</html>

